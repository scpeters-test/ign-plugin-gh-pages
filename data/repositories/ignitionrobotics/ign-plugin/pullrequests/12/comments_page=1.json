{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75097662.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75097662"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "@mxgrey We are getting close to feature freeze and code freeze for SubT. Are you okay with making this the last PR to ign-plugins until October? ", "markup": "markdown", "html": "<p>@mxgrey We are getting close to feature freeze and code freeze for SubT. Are you okay with making this the last PR to ign-plugins until October? </p>", "type": "rendered"}, "created_on": "2018-09-05T18:49:24.769724+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2018-09-05T18:49:24.782750+00:00", "type": "pullrequest_comment", "id": 75097662}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75127365.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75127365"}}, "parent": {"id": 75097662, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75097662.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75097662"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "Yep, as of this PR, we'll have all the features we've ever thought of for `ign-plugin`.", "markup": "markdown", "html": "<p>Yep, as of this PR, we'll have all the features we've ever thought of for <code>ign-plugin</code>.</p>", "type": "rendered"}, "created_on": "2018-09-06T03:16:39.839846+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-09-06T03:16:39.849618+00:00", "type": "pullrequest_comment", "id": 75127365}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75340363.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-plugin/diff/ignitionrobotics/ign-plugin:cbbffc0617d7..934f70e86e07?path=core%2Fsrc%2FTemplateHelpers_TEST.cc"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75340363"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "Is this file needed?", "markup": "markdown", "html": "<p>Is this file needed?</p>", "type": "rendered"}, "created_on": "2018-09-07T14:44:47.193856+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "inline": {"to": null, "from": 21, "path": "core/src/TemplateHelpers_TEST.cc"}, "updated_on": "2018-09-07T14:44:47.202479+00:00", "type": "pullrequest_comment", "id": 75340363}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75681541.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-plugin/diff/ignitionrobotics/ign-plugin:14baea33714a..e743be809b2c?path=core%2Fsrc%2FTemplateHelpers_TEST.cc"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75681541"}}, "parent": {"id": 75340363, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75340363.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75340363"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "I agree, this file should be deleted", "markup": "markdown", "html": "<p>I agree, this file should be deleted</p>", "type": "rendered"}, "created_on": "2018-09-11T23:45:36.903574+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": null, "from": null, "path": "core/src/TemplateHelpers_TEST.cc"}, "updated_on": "2018-09-11T23:45:36.911318+00:00", "type": "pullrequest_comment", "id": 75681541}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75687888.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-plugin/diff/ignitionrobotics/ign-plugin:e305aa35f7aa..e743be809b2c?path=core%2Fsrc%2FTemplateHelpers_TEST.cc"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75687888"}}, "parent": {"id": 75681541, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75681541.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75681541"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "Whoops, this was supposed to be replaced by `utility_TEST.cc`. Removed: 2c4c6c3", "markup": "markdown", "html": "<p>Whoops, this was supposed to be replaced by <code>utility_TEST.cc</code>. Removed: <a href=\"#!/ignitionrobotics/ign-plugin/commits/2c4c6c3\" rel=\"nofollow\" class=\"ap-connect-link\">2c4c6c3</a></p>", "type": "rendered"}, "created_on": "2018-09-12T02:24:30.889370+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "path": "core/src/TemplateHelpers_TEST.cc"}, "updated_on": "2018-09-12T02:24:30.901468+00:00", "type": "pullrequest_comment", "id": 75687888}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75343188.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75343188"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "Code check is returning syntax errors:\n\n\\[core/include/ignition/plugin/detail/Factory.hh:31\\]: \\(error\\) syntax error\n\n\u200c\n\nThe factory integration test failed on ubuntu: [https://build.osrfoundation.org/view/sw\\_ignition/job/ignition\\_plugin-ci-pr\\_any-windows7-amd64/52/consoleFull#45593342ed30c675-ba23-4c35-b655-f5c948f97581](https://build.osrfoundation.org/view/sw_ignition/job/ignition_plugin-ci-pr_any-windows7-amd64/52/consoleFull#45593342ed30c675-ba23-4c35-b655-f5c948f97581)", "markup": "markdown", "html": "<p>Code check is returning syntax errors:</p>\n<p>[core/include/ignition/plugin/detail/Factory.hh:31]: (error) syntax error</p>\n<p>\u200c</p>\n<p>The factory integration test failed on ubuntu: <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/view/sw_ignition/job/ignition_plugin-ci-pr_any-windows7-amd64/52/consoleFull#45593342ed30c675-ba23-4c35-b655-f5c948f97581\" rel=\"nofollow\">https://build.osrfoundation.org/view/sw_ignition/job/ignition_plugin-ci-pr_any-windows7-amd64/52/consoleFull#45593342ed30c675-ba23-4c35-b655-f5c948f97581</a></p>", "type": "rendered"}, "created_on": "2018-09-07T15:05:15.571496+00:00", "user": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "updated_on": "2018-09-07T15:05:15.577799+00:00", "type": "pullrequest_comment", "id": 75343188}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75404589.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75404589"}}, "parent": {"id": 75343188, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75343188.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75343188"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "It seems that Ubuntu and Windows are slightly different in how they demangle the symbol name of a class that was instantiated from a template.\n\nThe test assumes that spaces will be placed between the template arguments so that\u2019s what I told the test to expect. But Windows \\(which is what failed here\\) does not put spaces between the template arguments within a symbol, so the lookup failed.\n\nI made the test more robust here: b77d1f6 Now it will search for key components of the symbol name and choose the plugin name that contains those components instead of assuming a specific precise name.\n\nWindows is happy now: [https://ci.appveyor.com/project/scpeters/ign-plugin/build/1.0.31](https://ci.appveyor.com/project/scpeters/ign-plugin/build/1.0.31)\n\n\\(I started a new Jenkins job for Windows, but the Jenkins server doesn\u2019t seem to be responding.\\)", "markup": "markdown", "html": "<p>It seems that Ubuntu and Windows are slightly different in how they demangle the symbol name of a class that was instantiated from a template.</p>\n<p>The test assumes that spaces will be placed between the template arguments so that\u2019s what I told the test to expect. But Windows (which is what failed here) does not put spaces between the template arguments within a symbol, so the lookup failed.</p>\n<p>I made the test more robust here: <a href=\"#!/ignitionrobotics/ign-plugin/commits/b77d1f6\" rel=\"nofollow\" class=\"ap-connect-link\">b77d1f6</a> Now it will search for key components of the symbol name and choose the plugin name that contains those components instead of assuming a specific precise name.</p>\n<p>Windows is happy now: <a data-is-external-link=\"true\" href=\"https://ci.appveyor.com/project/scpeters/ign-plugin/build/1.0.31\" rel=\"nofollow\">https://ci.appveyor.com/project/scpeters/ign-plugin/build/1.0.31</a></p>\n<p>(I started a new Jenkins job for Windows, but the Jenkins server doesn\u2019t seem to be responding.)</p>", "type": "rendered"}, "created_on": "2018-09-10T02:39:34.998557+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-09-10T02:40:04.728160+00:00", "type": "pullrequest_comment", "id": 75404589}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75421476.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75421476"}}, "parent": {"id": 75404589, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75404589.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75404589"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "Jenkins job for Windows passed as well: [https://build.osrfoundation.org/job/ignition\\_plugin-ci-pr\\_any-windows7-amd64/53/](https://build.osrfoundation.org/job/ignition_plugin-ci-pr_any-windows7-amd64/53)\n\n~~I\u2019m not sure what caused the current \u201cfailure\u201d status, but it looks like it\u2019s a `java.nio.channels.ClosedChannelException` which might be related to wiline?~~ A more recent Jenkins job [has passed](https://build.osrfoundation.org/job/ignition_plugin-ci-pr_any-windows7-amd64/56/), so I think we can ignore the failure.", "markup": "markdown", "html": "<p>Jenkins job for Windows passed as well: <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ignition_plugin-ci-pr_any-windows7-amd64/53\" rel=\"nofollow\">https://build.osrfoundation.org/job/ignition_plugin-ci-pr_any-windows7-amd64/53/</a></p>\n<p><del>I\u2019m not sure what caused the current \u201cfailure\u201d status, but it looks like it\u2019s a <code>java.nio.channels.ClosedChannelException</code> which might be related to wiline?</del> A more recent Jenkins job <a data-is-external-link=\"true\" href=\"https://build.osrfoundation.org/job/ignition_plugin-ci-pr_any-windows7-amd64/56/\" rel=\"nofollow\">has passed</a>, so I think we can ignore the failure.</p>", "type": "rendered"}, "created_on": "2018-09-10T07:34:57.829851+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-09-10T08:16:38.251186+00:00", "type": "pullrequest_comment", "id": 75421476}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75404757.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75404757"}}, "parent": {"id": 75343188, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75343188.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75343188"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "Also the \u201csyntax error\u201d seems to be code check saying that it doesn\u2019t know how to parse the syntax; I don\u2019t think it\u2019s saying that there\u2019s an actual error there \\(\u2026 at least it shouldn\u2019t be saying there\u2019s an error, because there definitely isn\u2019t an error\\).  The codecheck target is still returning with success, regardless of that printout, so I recommend we just ignore it \\(unless there\u2019s a way to suppress this type of output\\).", "markup": "markdown", "html": "<p>Also the \u201csyntax error\u201d seems to be code check saying that it doesn\u2019t know how to parse the syntax; I don\u2019t think it\u2019s saying that there\u2019s an actual error there (\u2026 at least it shouldn\u2019t be saying there\u2019s an error, because there definitely isn\u2019t an error).  The codecheck target is still returning with success, regardless of that printout, so I recommend we just ignore it (unless there\u2019s a way to suppress this type of output).</p>", "type": "rendered"}, "created_on": "2018-09-10T02:45:34.878869+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-09-10T02:45:34.886086+00:00", "type": "pullrequest_comment", "id": 75404757}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75406235.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75406235"}}, "parent": {"id": 75404757, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75404757.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75404757"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "This seemed to suppress the false flag on my machine: 035d99f", "markup": "markdown", "html": "<p>This seemed to suppress the false flag on my machine: <a href=\"#!/ignitionrobotics/ign-plugin/commits/035d99f\" rel=\"nofollow\" class=\"ap-connect-link\">035d99f</a></p>", "type": "rendered"}, "created_on": "2018-09-10T03:34:43.209437+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-09-10T03:34:43.217115+00:00", "type": "pullrequest_comment", "id": 75406235}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75412281.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75412281"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "I just noticed some inconsistent variable names in pull request #11, but it has already been merged. Should we fix it here?\n\n* #!/ignitionrobotics/ign-plugin/pull-requests/11/plugin-enhancements-part-2-aliases/diff#comment-75412209", "markup": "markdown", "html": "<p>I just noticed some inconsistent variable names in <a href=\"#!/ignitionrobotics/ign-plugin/pull-requests/11/plugin-enhancements-part-2-aliases\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #11</a>, but it has already been merged. Should we fix it here?</p>\n<ul>\n<li><a href=\"#!/ignitionrobotics/ign-plugin/pull-requests/11/plugin-enhancements-part-2-aliases/diff#comment-75412209\" rel=\"nofollow\" class=\"ap-connect-link\">#!/ignitionrobotics/ign-plugin/pull-requests/11/plugin-enhancements-part-2-aliases/diff#comment-75412209</a></li>\n</ul>", "type": "rendered"}, "created_on": "2018-09-10T05:59:29.214134+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-09-10T05:59:29.221487+00:00", "type": "pullrequest_comment", "id": 75412281}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75413365.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75413365"}}, "parent": {"id": 75412281, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75412281.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75412281"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "We can fix it here or I can pop open a small PR to fix it.", "markup": "markdown", "html": "<p>We can fix it here or I can pop open a small PR to fix it.</p>", "type": "rendered"}, "created_on": "2018-09-10T06:16:23.718306+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-09-10T06:16:23.725411+00:00", "type": "pullrequest_comment", "id": 75413365}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75413941.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75413941"}}, "parent": {"id": 75412281, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75412281.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75412281"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "I\u2019ve created a small PR for this: [#!/ignitionrobotics/ign-plugin/pull-requests/14/](#!/ignitionrobotics/ign-plugin/pull-requests/14/)\n\nIf you'd prefer, I can target that PR at this branch instead of `default`.", "markup": "markdown", "html": "<p>I\u2019ve created a small PR for this: <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-plugin/pull-requests/14/\" rel=\"nofollow\">#!/ignitionrobotics/ign-plugin/pull-requests/14/</a></p>\n<p>If you'd prefer, I can target that PR at this branch instead of <code>default</code>.</p>", "type": "rendered"}, "created_on": "2018-09-10T06:23:52.309604+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-09-10T06:23:52.316785+00:00", "type": "pullrequest_comment", "id": 75413941}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75434709.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75434709"}}, "parent": {"id": 75413941, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75413941.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75413941"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "no, targeting default is just fine", "markup": "markdown", "html": "<p>no, targeting default is just fine</p>", "type": "rendered"}, "created_on": "2018-09-10T09:03:50.104866+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-09-10T09:03:50.111970+00:00", "type": "pullrequest_comment", "id": 75434709}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75513286.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-plugin/diff/ignitionrobotics/ign-plugin:563171601efb..e743be809b2c?path=loader%2Finclude%2Fignition%2Fplugin%2FLoader.hh"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75513286"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "`_pluginNameOrAlias`?", "markup": "markdown", "html": "<p><code>_pluginNameOrAlias</code>?</p>", "type": "rendered"}, "created_on": "2018-09-10T18:38:08.045927+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 165, "from": null, "path": "loader/include/ignition/plugin/Loader.hh"}, "updated_on": "2018-09-10T18:38:08.052817+00:00", "type": "pullrequest_comment", "id": 75513286}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75543937.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-plugin/diff/ignitionrobotics/ign-plugin:14baea33714a..e743be809b2c?path=loader%2Finclude%2Fignition%2Fplugin%2FLoader.hh"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75543937"}}, "parent": {"id": 75513286, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75513286.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75513286"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "Changed here: b1e58aa\n\nI also revised `ForgetLibraryOfPlugin(~)` to accept aliases, and I made the documentation style more consistent between the various functions.", "markup": "markdown", "html": "<p>Changed here: <a href=\"#!/ignitionrobotics/ign-plugin/commits/b1e58aa\" rel=\"nofollow\" class=\"ap-connect-link\">b1e58aa</a></p>\n<p>I also revised <code>ForgetLibraryOfPlugin(~)</code> to accept aliases, and I made the documentation style more consistent between the various functions.</p>", "type": "rendered"}, "created_on": "2018-09-11T02:43:47.456825+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "path": "loader/include/ignition/plugin/Loader.hh"}, "updated_on": "2018-09-11T02:43:47.464422+00:00", "type": "pullrequest_comment", "id": 75543937}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75680026.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-plugin/diff/ignitionrobotics/ign-plugin:14baea33714a..e743be809b2c?path=core%2Finclude%2Fignition%2Fplugin%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75680026"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "`ReturnT` -> `ReturnType`?", "markup": "markdown", "html": "<p><code>ReturnT</code> -&gt; <code>ReturnType</code>?</p>", "type": "rendered"}, "created_on": "2018-09-11T23:16:36.508274+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 57, "from": null, "path": "core/include/ignition/plugin/Factory.hh"}, "updated_on": "2018-09-11T23:16:36.515131+00:00", "type": "pullrequest_comment", "id": 75680026}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75688204.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-plugin/diff/ignitionrobotics/ign-plugin:e305aa35f7aa..e743be809b2c?path=core%2Finclude%2Fignition%2Fplugin%2FFactory.hh"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75688204"}}, "parent": {"id": 75680026, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75680026.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75680026"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "I made this a bit more consistent: 2a62b18", "markup": "markdown", "html": "<p>I made this a bit more consistent: <a href=\"#!/ignitionrobotics/ign-plugin/commits/2a62b18\" rel=\"nofollow\" class=\"ap-connect-link\">2a62b18</a></p>", "type": "rendered"}, "created_on": "2018-09-12T02:32:49.389069+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "path": "core/include/ignition/plugin/Factory.hh"}, "updated_on": "2018-09-12T02:32:49.396657+00:00", "type": "pullrequest_comment", "id": 75688204}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75685427.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75685427"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "I think we should add a test that confirms the lifecycle you describe in the pull request description (release pointer returned from `Construct` and confirm that shared library is not unloaded until object is deleted).", "markup": "markdown", "html": "<p>I think we should add a test that confirms the lifecycle you describe in the pull request description (release pointer returned from <code>Construct</code> and confirm that shared library is not unloaded until object is deleted).</p>", "type": "rendered"}, "created_on": "2018-09-12T01:16:17.930902+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-09-12T01:16:17.937282+00:00", "type": "pullrequest_comment", "id": 75685427}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75733580.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75733580"}}, "parent": {"id": 75685427, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75685427.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75685427"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "That's a very excellent suggestion \\(I thought I had done that, but you\u2019re right that it wasn\u2019t tested yet\\).\n\nCreating tests for this revealed that there is a surprising fundamental flaw with the approach. It turns out that if you unload the library of a class while the call stack has not yet exited the destructor of that class, then you will get a segmentation fault no matter what. Even if _no more symbols depending on the plugin library_ need to be called, the call stack will simply not know how to exit the plugin class\u2019s destructor \\(which has been unloaded from the program\u2019s memory\\), and will instead experience a segmentation fault.\n\nI\u2019ve revised the approach in [this experimental branch](#!/ignitionrobotics/ign-plugin/branch/Factory_vexing?dest=Factory#diff) which includes a test that currently fails on the branch of this PR. The issue with the revised approach is that to avoid memory leaks, you need to handle a `std::unique_ptr` with a custom deleter, which kind of decimates the usefulness of this feature. You can no longer pass a raw pointer along to be handled by a different memory management system.\n\nI\u2019m going to keep thinking about this issue, but unfortunately I suspect we\u2019ve hit an inherent weakness of plugin-based systems. It\u2019s not surprising that other plugin frameworks like Qt just happily resign themselves to memory leaks.", "markup": "markdown", "html": "<p>That's a very excellent suggestion (I thought I had done that, but you\u2019re right that it wasn\u2019t tested yet).</p>\n<p>Creating tests for this revealed that there is a surprising fundamental flaw with the approach. It turns out that if you unload the library of a class while the call stack has not yet exited the destructor of that class, then you will get a segmentation fault no matter what. Even if <em>no more symbols depending on the plugin library</em> need to be called, the call stack will simply not know how to exit the plugin class\u2019s destructor (which has been unloaded from the program\u2019s memory), and will instead experience a segmentation fault.</p>\n<p>I\u2019ve revised the approach in <a data-is-external-link=\"true\" href=\"#!/ignitionrobotics/ign-plugin/branch/Factory_vexing?dest=Factory#diff\" rel=\"nofollow\">this experimental branch</a> which includes a test that currently fails on the branch of this PR. The issue with the revised approach is that to avoid memory leaks, you need to handle a <code>std::unique_ptr</code> with a custom deleter, which kind of decimates the usefulness of this feature. You can no longer pass a raw pointer along to be handled by a different memory management system.</p>\n<p>I\u2019m going to keep thinking about this issue, but unfortunately I suspect we\u2019ve hit an inherent weakness of plugin-based systems. It\u2019s not surprising that other plugin frameworks like Qt just happily resign themselves to memory leaks.</p>", "type": "rendered"}, "created_on": "2018-09-12T10:32:10.388605+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-09-12T10:35:25.766754+00:00", "type": "pullrequest_comment", "id": 75733580}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75796194.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75796194"}}, "parent": {"id": 75733580, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75733580.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75733580"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "well, I'm glad we're aware of the issue now\n\nso is this branch still worth merging?", "markup": "markdown", "html": "<p>well, I'm glad we're aware of the issue now</p>\n<p>so is this branch still worth merging?</p>", "type": "rendered"}, "created_on": "2018-09-12T17:58:16.520833+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2018-09-12T17:58:16.527115+00:00", "type": "pullrequest_comment", "id": 75796194}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75855985.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75855985"}}, "parent": {"id": 75796194, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75796194.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75796194"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "I\u2019ve pushed some significant changes now with a revised approach to factory product management. It includes tests to show that the methodology is working.\n\nI\u2019d say I\u2019m roughly 95% satisfied with this new approach, and I think it\u2019s valuable enough to be worth merging.\n\nThe remaining 5% of my potential satisfaction might actually require fundamental changes to the way shared libraries work within the operating system, so we may just have to count that as a loss.", "markup": "markdown", "html": "<p>I\u2019ve pushed some significant changes now with a revised approach to factory product management. It includes tests to show that the methodology is working.</p>\n<p>I\u2019d say I\u2019m roughly 95% satisfied with this new approach, and I think it\u2019s valuable enough to be worth merging.</p>\n<p>The remaining 5% of my potential satisfaction might actually require fundamental changes to the way shared libraries work within the operating system, so we may just have to count that as a loss.</p>", "type": "rendered"}, "created_on": "2018-09-13T08:32:55.154378+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": "2018-09-13T08:34:10.916196+00:00", "type": "pullrequest_comment", "id": 75855985}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75685604.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-plugin/diff/ignitionrobotics/ign-plugin:5a20698d52a2..e743be809b2c?path=loader%2Finclude%2Fignition%2Fplugin%2FLoader.hh"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75685604"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "This is a pretty cool feature, but I was confused when I initially read this documentation because I thought this function was only useful as an intermediate step to calling `Construct`, maybe because it's called `Factory`.", "markup": "markdown", "html": "<p>This is a pretty cool feature, but I was confused when I initially read this documentation because I thought this function was only useful as an intermediate step to calling <code>Construct</code>, maybe because it's called <code>Factory</code>.</p>", "type": "rendered"}, "created_on": "2018-09-12T01:20:29.059282+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "inline": {"to": 171, "from": null, "path": "loader/include/ignition/plugin/Loader.hh"}, "updated_on": "2018-09-12T01:20:29.065525+00:00", "type": "pullrequest_comment", "id": 75685604}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75687785.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/ignitionrobotics/ign-plugin/diff/ignitionrobotics/ign-plugin:5a20698d52a2..e743be809b2c?path=loader%2Finclude%2Fignition%2Fplugin%2FLoader.hh"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75687785"}}, "parent": {"id": 75685604, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12/comments/75685604.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12/_/diff#comment-75685604"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/pullrequests/12.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/pull-requests/12"}}, "title": "Plugin Enhancements Part 3: Factory"}, "content": {"raw": "Yeah, when I originally designed the feature, I had intended to make a function called `Loader::Factory(std::string)` that would give the user the ability to call a function `->Construct(Args&&...)`.\n\nIn the process of implementing it, I realized that the most sensible way of implementing this feature would have the side-effect of enabling users to instantiate a `std::shared_ptr<Interface>` to the interface of any kind of plugin, not just factories.\n\nI decided to just roll with it, since it doesn\u2019t really hurt anything, and it might be useful for other cases.\n\nI'd be totally open to renaming the `Loader::Factory` function, but I'd like a name that emphasizes that it's the recommended function for reaching the `Factory<T, Args...>::Construct(Args&&...)` API.", "markup": "markdown", "html": "<p>Yeah, when I originally designed the feature, I had intended to make a function called <code>Loader::Factory(std::string)</code> that would give the user the ability to call a function <code>-&gt;Construct(Args&amp;&amp;...)</code>.</p>\n<p>In the process of implementing it, I realized that the most sensible way of implementing this feature would have the side-effect of enabling users to instantiate a <code>std::shared_ptr&lt;Interface&gt;</code> to the interface of any kind of plugin, not just factories.</p>\n<p>I decided to just roll with it, since it doesn\u2019t really hurt anything, and it might be useful for other cases.</p>\n<p>I'd be totally open to renaming the <code>Loader::Factory</code> function, but I'd like a name that emphasizes that it's the recommended function for reaching the <code>Factory&lt;T, Args...&gt;::Construct(Args&amp;&amp;...)</code> API.</p>", "type": "rendered"}, "created_on": "2018-09-12T02:21:07.503128+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "inline": {"to": null, "from": null, "path": "loader/include/ignition/plugin/Loader.hh"}, "updated_on": "2018-09-12T02:21:07.509029+00:00", "type": "pullrequest_comment", "id": 75687785}], "page": 1, "size": 24}