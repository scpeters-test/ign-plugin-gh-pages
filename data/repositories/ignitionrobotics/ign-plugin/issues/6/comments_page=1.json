{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/issues/6/comments/51762964.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/issues/6#comment-51762964"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/issues/6.json"}}, "type": "issue", "id": 6, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f4e3de89-d527-44d3-b10f-fde17d644890}ts=c_plus_plus"}}, "type": "repository", "name": "ign-plugin", "full_name": "ignitionrobotics/ign-plugin", "uuid": "{f4e3de89-d527-44d3-b10f-fde17d644890}"}, "title": "RTLD_LAZY vs RTLD_NOW in PluginLoader"}, "content": {"raw": "comment by @clalancette migrated from https://bitbucket.org/ignitionrobotics/ign-common/issues/34/rtld_lazy-vs-rtld_now-in-pluginloader#comment-44753481\n\nMy main concern with `RTLD_LAZY` vs. `RTLD_NOW` isn't really with performance, but more with debugging. As I see it, the big problem with `RTLD_LAZY` is that you don't find out if you can't resolve a symbol until you actually try to call that symbol. That means that the program may be successfully running for a while, and then when some new functionality gets invoked the program crashes because it can't resolve the symbol. If we did `RTLD_NOW`, then the symbol resolution would fail at program startup time and it is an easy thing for a developer to see, understand, debug, and fix.\n\nWith that said, I'd be in favor of just switching ignition to `RTLD_NOW` and leaving it at that. If we want to make it configurable, I'm fine with that too, but would prefer `RTLD_NOW` to be the default.", "markup": "markdown", "html": "<p>comment by @clalancette migrated from <a href=\"https://bitbucket.org/ignitionrobotics/ign-common/issues/34/rtld_lazy-vs-rtld_now-in-pluginloader#comment-44753481\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/ignitionrobotics/ign-common/issues/34/rtld_lazy-vs-rtld_now-in-pluginloader#comment-44753481</a></p>\n<p>My main concern with <code>RTLD_LAZY</code> vs. <code>RTLD_NOW</code> isn't really with performance, but more with debugging. As I see it, the big problem with <code>RTLD_LAZY</code> is that you don't find out if you can't resolve a symbol until you actually try to call that symbol. That means that the program may be successfully running for a while, and then when some new functionality gets invoked the program crashes because it can't resolve the symbol. If we did <code>RTLD_NOW</code>, then the symbol resolution would fail at program startup time and it is an easy thing for a developer to see, understand, debug, and fix.</p>\n<p>With that said, I'd be in favor of just switching ignition to <code>RTLD_NOW</code> and leaving it at that. If we want to make it configurable, I'm fine with that too, but would prefer <code>RTLD_NOW</code> to be the default.</p>", "type": "rendered"}, "created_on": "2019-04-23T07:39:04.365100+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": null, "type": "issue_comment", "id": 51762964}, {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/issues/6/comments/51763474.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin/issues/6#comment-51763474"}}, "issue": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin/issues/6.json"}}, "type": "issue", "id": 6, "repository": {"links": {"self": {"href": "data/repositories/ignitionrobotics/ign-plugin.json"}, "html": {"href": "#!/ignitionrobotics/ign-plugin"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f4e3de89-d527-44d3-b10f-fde17d644890}ts=c_plus_plus"}}, "type": "repository", "name": "ign-plugin", "full_name": "ignitionrobotics/ign-plugin", "uuid": "{f4e3de89-d527-44d3-b10f-fde17d644890}"}, "title": "RTLD_LAZY vs RTLD_NOW in PluginLoader"}, "content": {"raw": "Failing early by default makes sense.\n\nI would recommend a flag for the `LoadLib(~)` function, since I think whoever is loading the library would have the best sense of how it should be loaded. But being able to set the Loader's default in addition to that would be reasonable.", "markup": "markdown", "html": "<p>Failing early by default makes sense.</p>\n<p>I would recommend a flag for the <code>LoadLib(~)</code> function, since I think whoever is loading the library would have the best sense of how it should be loaded. But being able to set the Loader's default in addition to that would be reasonable.</p>", "type": "rendered"}, "created_on": "2019-04-23T08:05:12.068591+00:00", "user": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "updated_on": null, "type": "issue_comment", "id": 51763474}], "page": 1, "size": 2}